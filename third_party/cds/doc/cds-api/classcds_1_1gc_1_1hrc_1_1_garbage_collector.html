<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cds: cds::gc::hrc::GarbageCollector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacecds.html">cds</a>      </li>
      <li><a class="el" href="namespacecds_1_1gc.html">gc</a>      </li>
      <li><a class="el" href="namespacecds_1_1gc_1_1hrc.html">hrc</a>      </li>
      <li><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>cds::gc::hrc::GarbageCollector Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="cds::gc::hrc::GarbageCollector" -->
<p>Gidenstam's Garbage Collector.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;hrc.h&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">GC internal statistics.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html">statistics</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics by events.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HRC control structure of global thread list.  <a href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47d0ebf293e72c74cf7a133848dc9b7f"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::CDS_DECLARE_EXCEPTION" ref="a47d0ebf293e72c74cf7a133848dc9b7f" args="(HRCGarbageCollectorEmpty,&quot;Global cds::gc::hrc::GarbageCollector is NULL&quot;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a47d0ebf293e72c74cf7a133848dc9b7f">CDS_DECLARE_EXCEPTION</a> (HRCGarbageCollectorEmpty,&quot;Global <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">cds::gc::hrc::GarbageCollector</a> is NULL&quot;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">"Global GC object is NULL" exception <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abebf41c103ce831e67b57d410ac11077"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::CDS_DECLARE_EXCEPTION" ref="abebf41c103ce831e67b57d410ac11077" args="(HRCTooMany,&quot;Not enough required Hazard Pointer count&quot;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#abebf41c103ce831e67b57d410ac11077">CDS_DECLARE_EXCEPTION</a> (HRCTooMany,&quot;Not enough required Hazard Pointer count&quot;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not enough required Hazard Pointer count. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20d6fde44b19180c3f9b4fe00e65c974"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::getHazardPointerCount" ref="a20d6fde44b19180c3f9b4fe00e65c974" args="() const " -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a20d6fde44b19180c3f9b4fe00e65c974">getHazardPointerCount</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max count of hazard pointers as defined in <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5100fe5921c1fd5be76b40c621984b3"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::getMaxThreadCount" ref="ac5100fe5921c1fd5be76b40c621984b3" args="() const " -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ac5100fe5921c1fd5be76b40c621984b3">getMaxThreadCount</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max thread count as defined in <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a800f45246f444fef3e390e7dafc8e261"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::getMaxRetiredPtrCount" ref="a800f45246f444fef3e390e7dafc8e261" args="() const " -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a800f45246f444fef3e390e7dafc8e261">getMaxRetiredPtrCount</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max retired pointers count. It is calculated by the parameters of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58855c22aa8456fb161fc06b66705025"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::getInternalState" ref="a58855c22aa8456fb161fc06b66705025" args="(internal_state &amp;stat) const " -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a58855c22aa8456fb161fc06b66705025">getInternalState</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1internal__state.html">internal_state</a> &amp;stat) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get internal statistics. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ef19d157b52a5aba0f853974ca0a3f8"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::isStatisticsEnabled" ref="a1ef19d157b52a5aba0f853974ca0a3f8" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a1ef19d157b52a5aba0f853974ca0a3f8">isStatisticsEnabled</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if statistics enabled. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23d7e281526b568ca9c4ffd3dbb6a3e0"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::enableStatistics" ref="a23d7e281526b568ca9c4ffd3dbb6a3e0" args="(bool bEnable)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a23d7e281526b568ca9c4ffd3dbb6a3e0">enableStatistics</a> (bool bEnable)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable internal statistics. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ffd82f07c9b6981fdc5ee25d50af01e"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::allocateHRCThreadDesc" ref="a1ffd82f07c9b6981fdc5ee25d50af01e" args="(ThreadGC *pThreadGC)" -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1details_1_1thread__descriptor.html">details::thread_descriptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a1ffd82f07c9b6981fdc5ee25d50af01e">allocateHRCThreadDesc</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates HRC thread descriptor (thread interface) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae995f5d0f716a9752c9626ee75da5202"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::retireHRCThreadDesc" ref="ae995f5d0f716a9752c9626ee75da5202" args="(details::thread_descriptor *pRec)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae995f5d0f716a9752c9626ee75da5202">retireHRCThreadDesc</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1details_1_1thread__descriptor.html">details::thread_descriptor</a> *pRec)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retires HRC thread descriptor (thread interface) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a3fc91494dc98258dfa9e2b7dd86f7472">Scan</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The main method of GC.  <a href="#a3fc91494dc98258dfa9e2b7dd86f7472"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4752e02410e1736a920f8f14783351a"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::HelpScan" ref="aa4752e02410e1736a920f8f14783351a" args="(ThreadGC *pThreadGC)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aa4752e02410e1736a920f8f14783351a">HelpScan</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage free thread_descriptor records and move all retired pointers to <code>pThreadGC</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ad76272347d5a053b463bfc45da9da7e9">CleanUpAll</a> (<a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *pThreadGC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Global clean up.  <a href="#ad76272347d5a053b463bfc45da9da7e9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void CDS_STDCALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae450a3e7c8bbf331358585920a29e6ed">Construct</a> (size_t nHazardPtrCount=0, size_t nMaxThreadCount=0, size_t nMaxNodeLinkCount=0, size_t nMaxTransientLinks=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>.  <a href="#ae450a3e7c8bbf331358585920a29e6ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0668e003e86fe3279043465a21b75e96"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::Destruct" ref="a0668e003e86fe3279043465a21b75e96" args="()" -->
static void CDS_STDCALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a0668e003e86fe3279043465a21b75e96">Destruct</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa67a9c380cb38b234db99fb4792f661c"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::instance" ref="aa67a9c380cb38b234db99fb4792f661c" args="()" -->
static <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aa67a9c380cb38b234db99fb4792f661c">instance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab07b6ba9ab81348a404723472d8bcbb"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::isUsed" ref="aab07b6ba9ab81348a404723472d8bcbb" args="()" -->
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#aab07b6ba9ab81348a404723472d8bcbb">isUsed</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if global GC object is constructed and may be used. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ac298d2ca1168306c03d2e83ca95dc09e">checkHPCount</a> (unsigned int nRequiredCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that required hazard pointer count <code>nRequiredCount</code> is less or equal then max hazard pointer count.  <a href="#ac298d2ca1168306c03d2e83ca95dc09e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fe1ed87125eef681d6d818115335a92"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::newHRCThreadDesc" ref="a9fe1ed87125eef681d6d818115335a92" args="()" -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a9fe1ed87125eef681d6d818115335a92">newHRCThreadDesc</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates new HRC control structure from the heap (using operator new) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3234edf6cfefdc74b05c0bdb3fc55b6"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::deleteHRCThreadDesc" ref="ae3234edf6cfefdc74b05c0bdb3fc55b6" args="(thread_list_node *pNode)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ae3234edf6cfefdc74b05c0bdb3fc55b6">deleteHRCThreadDesc</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *pNode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes <code>pNode</code> control structure. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af998da101e55d2553558dd2218e507cd"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::clearHRCThreadDesc" ref="af998da101e55d2553558dd2218e507cd" args="(thread_list_node *pNode)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#af998da101e55d2553558dd2218e507cd">clearHRCThreadDesc</a> (<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *pNode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears retired nodes of <code>pNode</code> control structure. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bdfd85bb4b2864fa29825b5544e5e4b"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::getHRCThreadDescForCurrentThread" ref="a0bdfd85bb4b2864fa29825b5544e5e4b" args="() const " -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a0bdfd85bb4b2864fa29825b5544e5e4b">getHRCThreadDescForCurrentThread</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds HRC control structure for current thread. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89fe80bc31e7575039ed520d65f1a69b"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_pListHead" ref="a89fe80bc31e7575039ed520d65f1a69b" args="" -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1thread__list__node.html">thread_list_node</a> *volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a89fe80bc31e7575039ed520d65f1a69b">m_pListHead</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Head of thread list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade14f512f6274ce9ccb023c2462512b2"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_Stat" ref="ade14f512f6274ce9ccb023c2462512b2" args="" -->
<a class="el" href="structcds_1_1gc_1_1hrc_1_1_garbage_collector_1_1statistics.html">statistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#ade14f512f6274ce9ccb023c2462512b2">m_Stat</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67d19ae2923bddf4323dbfec75ad23e2"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_bStatEnabled" ref="a67d19ae2923bddf4323dbfec75ad23e2" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a67d19ae2923bddf4323dbfec75ad23e2">m_bStatEnabled</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>true</em> - accumulate internal statistics <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfd39769bf0ef8cf6db02a8588ecab9b"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_nHazardPointerCount" ref="abfd39769bf0ef8cf6db02a8588ecab9b" args="" -->
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#abfd39769bf0ef8cf6db02a8588ecab9b">m_nHazardPointerCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of thread's hazard pointer <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd0829b1ba90e8253c51415c8f6440f2"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_nMaxThreadCount" ref="acd0829b1ba90e8253c51415c8f6440f2" args="" -->
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#acd0829b1ba90e8253c51415c8f6440f2">m_nMaxThreadCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of thread <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32ec59fe98328fb8e4db869f77ce1b4a"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_nMaxRetiredPtrCount" ref="a32ec59fe98328fb8e4db869f77ce1b4a" args="" -->
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a32ec59fe98328fb8e4db869f77ce1b4a">m_nMaxRetiredPtrCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">max count of retired ptr per thread <br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a424fdf62e4498028445436eb1c6f9cc3"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::m_pGC" ref="a424fdf62e4498028445436eb1c6f9cc3" args="" -->
static <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html">GarbageCollector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a424fdf62e4498028445436eb1c6f9cc3">m_pGC</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HRC garbage collector instance. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Gidenstam's Garbage Collector. </p>
<p>This GC combines Hazard Pointers (HP) reclamation method by Michael's and the well-known reference counting reclamation schema. The HP method is light-weight algorithm guarding local references only. Reference counting schema is harder than HP with relation to the performance but can guard global references too. Using Gidenstam's GC it can be possible to safely introduce to the lock-free data structures very useful concepts like iterators.</p>
<p><a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a> is the singleton. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac298d2ca1168306c03d2e83ca95dc09e"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::checkHPCount" ref="ac298d2ca1168306c03d2e83ca95dc09e" args="(unsigned int nRequiredCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cds::gc::hrc::GarbageCollector::checkHPCount </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"> <em>nRequiredCount</em>&#160;)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks that required hazard pointer count <code>nRequiredCount</code> is less or equal then max hazard pointer count. </p>
<p>If <code>nRequiredCount</code> &gt; <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html#a20d6fde44b19180c3f9b4fe00e65c974" title="Get max count of hazard pointers as defined in Construct call.">getHazardPointerCount()</a> then the exception HZPTooMany is thrown </p>

</div>
</div>
<a class="anchor" id="ad76272347d5a053b463bfc45da9da7e9"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::CleanUpAll" ref="ad76272347d5a053b463bfc45da9da7e9" args="(ThreadGC *pThreadGC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cds::gc::hrc::GarbageCollector::CleanUpAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *&#160;</td>
          <td class="paramname"> <em>pThreadGC</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global clean up. </p>
<p>The procedure try to remove redundant claimed references from links in deleted nodes that has been deleted by any thread. <code>pThreadGC</code> - <a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html" title="Thread&#39;s Garbage collector.">ThreadGC</a> of calling thread </p>

</div>
</div>
<a class="anchor" id="ae450a3e7c8bbf331358585920a29e6ed"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::Construct" ref="ae450a3e7c8bbf331358585920a29e6ed" args="(size_t nHazardPtrCount=0, size_t nMaxThreadCount=0, size_t nMaxNodeLinkCount=0, size_t nMaxTransientLinks=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void CDS_STDCALL cds::gc::hrc::GarbageCollector::Construct </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>nHazardPtrCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>nMaxThreadCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>nMaxNodeLinkCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>nMaxTransientLinks</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create global instance of <a class="el" href="classcds_1_1gc_1_1hrc_1_1_garbage_collector.html" title="Gidenstam&#39;s Garbage Collector.">GarbageCollector</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nHazardPtrCount</td><td>number of hazard pointers </td></tr>
    <tr><td class="paramname">nMaxThreadCount</td><td>max threads count </td></tr>
    <tr><td class="paramname">nMaxNodeLinkCount</td><td>max number of links a <a class="el" href="classcds_1_1gc_1_1hrc_1_1_container_node.html">ContainerNode</a> can contain </td></tr>
    <tr><td class="paramname">nMaxTransientLinks</td><td>max number of links in live nodes that may transiently point to a deleted node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3fc91494dc98258dfa9e2b7dd86f7472"></a><!-- doxytag: member="cds::gc::hrc::GarbageCollector::Scan" ref="a3fc91494dc98258dfa9e2b7dd86f7472" args="(ThreadGC *pThreadGC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cds::gc::hrc::GarbageCollector::Scan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1gc_1_1hrc_1_1_thread_g_c.html">ThreadGC</a> *&#160;</td>
          <td class="paramname"> <em>pThreadGC</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The main method of GC. </p>
<p>The procedure searches through all not yet reclaimed nodes deleted by this thread and reclaim only those that does not have any matching hazard pointers and do not have any counted references from any links inside of nodes. <em>Scan</em> is called in context of thread owned <code>pRec</code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/gc/hrc/hrc.h</li>
</ul>
</div>
		<hr/>
		<div align="right">
			<b>cds</b> <b>0.7.0</b> 
			Developed by <i>Maxim Khiszinsky aka khizmax</i> 2007 - 2010
			<br/>
			<i>Autogenerated Sun Dec 5 2010 11:36:31 by Doxygen 1.7.2</i>
		</div>
	</BODY>
</HTML>
