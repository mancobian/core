<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cds: cds::OS::aligned_allocator&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacecds.html">cds</a>      </li>
      <li><a class="el" href="namespacecds_1_1_o_s.html">OS</a>      </li>
      <li><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">aligned_allocator</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a>  </div>
  <div class="headertitle">
<h1>cds::OS::aligned_allocator&lt; T &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="cds::OS::aligned_allocator" -->
<p>Aligned allocator.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;alloc_aligned.h&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1_o_s_1_1aligned__allocator_1_1rebind.html">rebind</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convert an aligned_allocator&lt;T&gt; to an aligned_allocator&lt;OTHER&gt;  <a href="structcds_1_1_o_s_1_1aligned__allocator_1_1rebind.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48d33614d5a360727dc04c404a599b05"></a><!-- doxytag: member="cds::OS::aligned_allocator::value_type" ref="a48d33614d5a360727dc04c404a599b05" args="" -->
typedef prototype::value_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a48d33614d5a360727dc04c404a599b05">value_type</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2794c36c35fb2a8e6c06db7ac3d43479"></a><!-- doxytag: member="cds::OS::aligned_allocator::pointer" ref="a2794c36c35fb2a8e6c06db7ac3d43479" args="" -->
typedef prototype::pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to value type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92ec092cc2e00e179c54025448882e5e"></a><!-- doxytag: member="cds::OS::aligned_allocator::reference" ref="a92ec092cc2e00e179c54025448882e5e" args="" -->
typedef prototype::reference&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a92ec092cc2e00e179c54025448882e5e">reference</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value reference type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a167963b3953a136c91ea1efb55cd15e3"></a><!-- doxytag: member="cds::OS::aligned_allocator::const_pointer" ref="a167963b3953a136c91ea1efb55cd15e3" args="" -->
typedef prototype::const_pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a167963b3953a136c91ea1efb55cd15e3">const_pointer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">const pointer to value type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a366619e6125611b014b587d3a6e6e1bc"></a><!-- doxytag: member="cds::OS::aligned_allocator::const_reference" ref="a366619e6125611b014b587d3a6e6e1bc" args="" -->
typedef prototype::const_reference&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a366619e6125611b014b587d3a6e6e1bc">const_reference</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">const value reference type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afaa68efd1f53f20e85f9840827fd6609"></a><!-- doxytag: member="cds::OS::aligned_allocator::size_type" ref="afaa68efd1f53f20e85f9840827fd6609" args="" -->
typedef prototype::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">size type <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94c84b530e8797f21aa3a60ce13d0cb4"></a><!-- doxytag: member="cds::OS::aligned_allocator::difference_type" ref="a94c84b530e8797f21aa3a60ce13d0cb4" args="" -->
typedef prototype::difference_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a94c84b530e8797f21aa3a60ce13d0cb4">difference_type</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">difference type <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdd995e87a05a42a39dfb446bd57dba7"></a><!-- doxytag: member="cds::OS::aligned_allocator::address" ref="afdd995e87a05a42a39dfb446bd57dba7" args="(reference v) const " -->
<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afdd995e87a05a42a39dfb446bd57dba7">address</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a92ec092cc2e00e179c54025448882e5e">reference</a> v) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return address of mutable <code>v</code> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac27e408dbd116a160995d255a418903e"></a><!-- doxytag: member="cds::OS::aligned_allocator::address" ref="ac27e408dbd116a160995d255a418903e" args="(const_reference v) const " -->
<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a167963b3953a136c91ea1efb55cd15e3">const_pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#ac27e408dbd116a160995d255a418903e">address</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a366619e6125611b014b587d3a6e6e1bc">const_reference</a> v) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return address of nonmutable <code>v</code> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afca1a4ef37bdd6c52f5089cb5b96e71a"></a><!-- doxytag: member="cds::OS::aligned_allocator::aligned_allocator" ref="afca1a4ef37bdd6c52f5089cb5b96e71a" args="(const aligned_allocator&lt; T &gt; &amp;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afca1a4ef37bdd6c52f5089cb5b96e71a">aligned_allocator</a> (const <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">aligned_allocator</a>&lt; T &gt; &amp;)  throw ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">construct by copying (do nothing) <br/></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a7c70ee1ca93411e8cee6616b0e850850"></a><!-- doxytag: member="cds::OS::aligned_allocator::aligned_allocator" ref="a7c70ee1ca93411e8cee6616b0e850850" args="(const aligned_allocator&lt; OTHER &gt; &amp;)" -->
template&lt;class OTHER &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a7c70ee1ca93411e8cee6616b0e850850">aligned_allocator</a> (const <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">aligned_allocator</a>&lt; OTHER &gt; &amp;)  throw ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">construct from a related allocator (do nothing) <br/></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="aab8ab1479148b08fadd1b065f38c1d7c"></a><!-- doxytag: member="cds::OS::aligned_allocator::operator=" ref="aab8ab1479148b08fadd1b065f38c1d7c" args="(const aligned_allocator&lt; OTHER &gt; &amp;)" -->
template&lt;class OTHER &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">aligned_allocator</a>&lt; T &gt; &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#aab8ab1479148b08fadd1b065f38c1d7c">operator=</a> (const <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">aligned_allocator</a>&lt; OTHER &gt; &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">assign from a related allocator (do nothing) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add77b3729a50a6c8ea5b43a4ca62c866"></a><!-- doxytag: member="cds::OS::aligned_allocator::deallocate" ref="add77b3729a50a6c8ea5b43a4ca62c866" args="(pointer ptr, size_type)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#add77b3729a50a6c8ea5b43a4ca62c866">deallocate</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a> ptr, <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deallocate object at <code>ptr</code>, ignore size <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#adccbe04e5be12c55e2e6a036099605b2">allocate</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a> nAlign, <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a> nCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate array of <code>nCount</code> elements  <a href="#adccbe04e5be12c55e2e6a036099605b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#ab08b2e9431f9d9124f04757a618656ef">allocate</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a> nAlign, <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a> nCount, const void *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate array of <code>nCount</code> elements, ignore hint  <a href="#ab08b2e9431f9d9124f04757a618656ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29b4c6ca7de7ef64c110b66c436e1644"></a><!-- doxytag: member="cds::OS::aligned_allocator::construct" ref="a29b4c6ca7de7ef64c110b66c436e1644" args="(pointer ptr, const T &amp;val)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a29b4c6ca7de7ef64c110b66c436e1644">construct</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a> ptr, const T &amp;val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">construct object at <code>ptr</code> with value <code>val</code> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f91d6c7fec55a264167bd30c440be4c"></a><!-- doxytag: member="cds::OS::aligned_allocator::destroy" ref="a8f91d6c7fec55a264167bd30c440be4c" args="(pointer ptr)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a8f91d6c7fec55a264167bd30c440be4c">destroy</a> (<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a> ptr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">destroy object at <code>ptr</code> <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2e716e67a6790e4d72b47ecf73777a6"></a><!-- doxytag: member="cds::OS::aligned_allocator::max_size" ref="ab2e716e67a6790e4d72b47ecf73777a6" args="() const " -->
<a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#ab2e716e67a6790e4d72b47ecf73777a6">max_size</a> () const   throw ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">estimate maximum array size <br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a015bd06c6152068ff2d544775f0d8968"></a><!-- doxytag: member="cds::OS::aligned_allocator::prototype" ref="a015bd06c6152068ff2d544775f0d8968" args="" -->
typedef std::allocator&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a015bd06c6152068ff2d544775f0d8968">prototype</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">prototype (the source of typedefs) <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename T&gt;<br/>
 class cds::OS::aligned_allocator&lt; T &gt;</h3>

<p>Aligned allocator. </p>
<p>This allocator is intended for allocating of an aligned memory block. It uses wrappers around platform-specific function for allocating and deallocating the block of memory: </p>
<ul>
<li><code>aligned_malloc</code> for allocating </li>
<li><code>aligned_free</code> for deallocating</li>
</ul>
<p>The <code>aligned_malloc</code> function wraps: </p>
<ul>
<li><code>for</code> Win: <code>_aligned_malloc</code> function </li>
<li><code>for</code> other OSes: <code>posix_memalign</code> / <code>memalign</code> function</li>
</ul>
<p>The <code>aligned_free</code> function wraps: </p>
<ul>
<li><code>for</code> Win: <code>_aligned_free</code> function </li>
<li><code>for</code> other OSes: <code>free</code> function</li>
</ul>
<p>This class should not be used directly. Use <a class="el" href="classcds_1_1details_1_1_aligned_allocator.html" title="Allocator for aligned data.">cds::details::AlignedAllocator</a> instead. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adccbe04e5be12c55e2e6a036099605b2"></a><!-- doxytag: member="cds::OS::aligned_allocator::allocate" ref="adccbe04e5be12c55e2e6a036099605b2" args="(size_type nAlign, size_type nCount)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a> <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">cds::OS::aligned_allocator</a>&lt; T &gt;::allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>&#160;</td>
          <td class="paramname"> <em>nAlign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>&#160;</td>
          <td class="paramname"> <em>nCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>allocate array of <code>nCount</code> elements </p>
<p>The address returned is aligned by <code>nAlign</code> boundary. <code>nAlign</code> parameter should be power of 2.</p>
<p>The function guarantees the alignment for first element of array only. To guarantee the alignment for each element of the array the size of an object of type <code>T</code> must be multiple of <code>nAlign:</code> </p>
<div class="fragment"><pre class="fragment">                <span class="keyword">sizeof</span>(T) % nAlign == 0
</pre></div> 
</div>
</div>
<a class="anchor" id="ab08b2e9431f9d9124f04757a618656ef"></a><!-- doxytag: member="cds::OS::aligned_allocator::allocate" ref="ab08b2e9431f9d9124f04757a618656ef" args="(size_type nAlign, size_type nCount, const void *)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#a2794c36c35fb2a8e6c06db7ac3d43479">pointer</a> <a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html">cds::OS::aligned_allocator</a>&lt; T &gt;::allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>&#160;</td>
          <td class="paramname"> <em>nAlign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcds_1_1_o_s_1_1aligned__allocator.html#afaa68efd1f53f20e85f9840827fd6609">size_type</a>&#160;</td>
          <td class="paramname"> <em>nCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>allocate array of <code>nCount</code> elements, ignore hint </p>
<p>The address returned is aligned by <code>nAlign</code> boundary. <code>nAlign</code> parameter should be power of 2.</p>
<p>The function guarantees alignment for first element of array only. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/os/alloc_aligned.h</li>
</ul>
</div>
		<hr/>
		<div align="right">
			<b>cds</b> <b>0.7.0</b> 
			Developed by <i>Maxim Khiszinsky aka khizmax</i> 2007 - 2010
			<br/>
			<i>Autogenerated Sun Dec 5 2010 11:36:37 by Doxygen 1.7.2</i>
		</div>
	</BODY>
</HTML>
